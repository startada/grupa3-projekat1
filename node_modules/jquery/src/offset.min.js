define(["./core","./core/access","./var/document","./var/documentElement","./var/isFunction","./css/var/rnumnonpx","./css/curCSS","./css/addGetHookIf","./css/support","./var/isWindow","./core/init","./css","./selector"],function(j,d,f,h,a,g,e,c,i,b){j.offset={setOffset:function(m,w,q){var s,p,k,n,l,u,v,r=j.css(m,"position"),o=j(m),t={};if(r==="static"){m.style.position="relative"}l=o.offset();k=j.css(m,"top");u=j.css(m,"left");v=(r==="absolute"||r==="fixed")&&(k+u).indexOf("auto")>-1;if(v){s=o.position();n=s.top;p=s.left}else{n=parseFloat(k)||0;p=parseFloat(u)||0}if(a(w)){w=w.call(m,q,j.extend({},l))}if(w.top!=null){t.top=(w.top-l.top)+n}if(w.left!=null){t.left=(w.left-l.left)+p}if("using" in w){w.using.call(m,t)}else{o.css(t)}}};j.fn.extend({offset:function(k){if(arguments.length){return k===undefined?this:this.each(function(o){j.offset.setOffset(this,k,o)})}var m,n,l=this[0];if(!l){return}if(!l.getClientRects().length){return{top:0,left:0}}m=l.getBoundingClientRect();n=l.ownerDocument.defaultView;return{top:m.top+n.pageYOffset,left:m.left+n.pageXOffset}},position:function(){if(!this[0]){return}var m,o,n,l=this[0],k={top:0,left:0};if(j.css(l,"position")==="fixed"){o=l.getBoundingClientRect()}else{o=this.offset();n=l.ownerDocument;m=l.offsetParent||n.documentElement;while(m&&(m===n.body||m===n.documentElement)&&j.css(m,"position")==="static"){m=m.parentNode}if(m&&m!==l&&m.nodeType===1){k=j(m).offset();k.top+=j.css(m,"borderTopWidth",true);k.left+=j.css(m,"borderLeftWidth",true)}}return{top:o.top-k.top-j.css(l,"marginTop",true),left:o.left-k.left-j.css(l,"marginLeft",true)}},offsetParent:function(){return this.map(function(){var k=this.offsetParent;while(k&&j.css(k,"position")==="static"){k=k.offsetParent}return k||h})}});j.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(m,l){var k="pageYOffset"===l;j.fn[m]=function(n){return d(this,function(o,r,q){var p;if(b(o)){p=o}else{if(o.nodeType===9){p=o.defaultView}}if(q===undefined){return p?p[l]:o[r]}if(p){p.scrollTo(!k?q:p.pageXOffset,k?q:p.pageYOffset)}else{o[r]=q}},m,n,arguments.length)}});j.each(["top","left"],function(k,l){j.cssHooks[l]=c(i.pixelPosition,function(n,m){if(m){m=e(n,l);return g.test(m)?j(n).position()[l]+"px":m}})});return j});