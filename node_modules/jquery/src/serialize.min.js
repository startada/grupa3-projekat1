define(["./core","./core/toType","./manipulation/var/rcheckableType","./var/isFunction","./core/init","./traversing","./attributes/prop"],function(i,h,f,b){var e=/\[\]$/,g=/\r?\n/g,c=/^(?:submit|button|image|reset|file)$/i,a=/^(?:input|select|textarea|keygen)/i;function d(l,n,k,m){var j;if(Array.isArray(n)){i.each(n,function(p,o){if(k||e.test(l)){m(l,o)}else{d(l+"["+(typeof o==="object"&&o!=null?p:"")+"]",o,k,m)}})}else{if(!k&&h(n)==="object"){for(j in n){d(l+"["+j+"]",n[j],k,m)}}else{m(l,n)}}}i.param=function(j,l){var m,k=[],n=function(o,q){var p=b(q)?q():q;k[k.length]=encodeURIComponent(o)+"="+encodeURIComponent(p==null?"":p)};if(Array.isArray(j)||(j.jquery&&!i.isPlainObject(j))){i.each(j,function(){n(this.name,this.value)})}else{for(m in j){d(m,j[m],l,n)}}return k.join("&")};i.fn.extend({serialize:function(){return i.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var j=i.prop(this,"elements");return j?i.makeArray(j):this}).filter(function(){var j=this.type;return this.name&&!i(this).is(":disabled")&&a.test(this.nodeName)&&!c.test(j)&&(this.checked||!f.test(j))}).map(function(j,k){var l=i(this).val();if(l==null){return null}if(Array.isArray(l)){return i.map(l,function(m){return{name:k.name,value:m.replace(g,"\r\n")}})}return{name:k.name,value:l.replace(g,"\r\n")}}).get()}});return i});