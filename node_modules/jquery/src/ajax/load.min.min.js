define(["../core","../core/stripAndCollapse","../var/isFunction","../core/parseHTML","../ajax","../traversing","../manipulation","../selector"],function(d,e,f){d.fn.load=function(m,b,a){var p,l,n,o=this,c=m.indexOf(" ");if(c>-1){p=e(m.slice(c));m=m.slice(0,c)}if(f(b)){a=b;b=undefined}else{if(b&&typeof b==="object"){l="POST"}}if(o.length>0){d.ajax({url:m,type:l||"GET",dataType:"html",data:b}).done(function(g){n=arguments;o.html(p?d("<div>").append(d.parseHTML(g)).find(p):g)}).always(a&&function(g,h){o.each(function(){a.apply(this,n||[g.responseText,h,g])})})}return this}});