define(["./core","./var/concat","./var/isFunction","./var/push","./core/access","./manipulation/var/rcheckableType","./manipulation/var/rtagName","./manipulation/var/rscriptType","./manipulation/wrapMap","./manipulation/getAll","./manipulation/setGlobalEval","./manipulation/buildFragment","./manipulation/support","./data/var/dataPriv","./data/var/dataUser","./data/var/acceptData","./core/DOMEval","./core/nodeName","./core/init","./traversing","./selector","./event"],function(n,h,b,j,f,v,c,k,r,s,y,p,m,o,q,w,B,a){var l=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,e=/<script|<style|<link/i,i=/checked\s*(?:[^=]|=\s*.checked.)/i,d=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function A(E,D){if(a(E,"table")&&a(D.nodeType!==11?D:D.firstChild,"tr")){return n(E).children("tbody")[0]||E}return E}function z(D){D.type=(D.getAttribute("type")!==null)+"/"+D.type;return D}function g(D){if((D.type||"").slice(0,5)==="true/"){D.type=D.type.slice(5)}else{D.removeAttribute("type")}return D}function t(D,L){var G,E,I,J,F,K,H,M;if(L.nodeType!==1){return}if(o.hasData(D)){J=o.access(D);F=o.set(L,J);M=J.events;if(M){delete F.handle;F.events={};for(I in M){for(G=0,E=M[I].length;G<E;G++){n.event.add(L,I,M[I][G])}}}}if(q.hasData(D)){K=q.access(D);H=n.extend({},K);q.set(L,H)}}function u(E,D){var F=D.nodeName.toLowerCase();if(F==="input"&&v.test(E.type)){D.checked=E.checked}else{if(F==="input"||F==="textarea"){D.defaultValue=E.defaultValue}}}function x(K,M,R,F){M=h.apply([],M);var L,J,H,D,E,O,I=0,G=K.length,Q=G-1,N=M[0],P=b(N);if(P||(G>1&&typeof N==="string"&&!m.checkClone&&i.test(N))){return K.each(function(T){var S=K.eq(T);if(P){M[0]=N.call(this,T,S.html())}x(S,M,R,F)})}if(G){L=p(M,K[0].ownerDocument,false,K,F);J=L.firstChild;if(L.childNodes.length===1){L=J}if(J||F){H=n.map(s(L,"script"),z);D=H.length;for(;I<G;I++){E=L;if(I!==Q){E=n.clone(E,true,true);if(D){n.merge(H,s(E,"script"))}}R.call(K[I],E,I)}if(D){O=H[H.length-1].ownerDocument;n.map(H,g);for(I=0;I<D;I++){E=H[I];if(k.test(E.type||"")&&!o.access(E,"globalEval")&&n.contains(O,E)){if(E.src&&(E.type||"").toLowerCase()!=="module"){if(n._evalUrl){n._evalUrl(E.src)}}else{B(E.textContent.replace(d,""),O,E)}}}}}}return K}function C(H,D,I){var G,E=D?n.filter(D,H):H,F=0;for(;(G=E[F])!=null;F++){if(!I&&G.nodeType===1){n.cleanData(s(G))}if(G.parentNode){if(I&&n.contains(G.ownerDocument,G)){y(s(G,"script"))}G.parentNode.removeChild(G)}}return H}n.extend({htmlPrefilter:function(D){return D.replace(l,"<$1></$2>")},clone:function(E,G,D){var H,F,J,I,L=E.cloneNode(true),K=n.contains(E.ownerDocument,E);if(!m.noCloneChecked&&(E.nodeType===1||E.nodeType===11)&&!n.isXMLDoc(E)){I=s(L);J=s(E);for(H=0,F=J.length;H<F;H++){u(J[H],I[H])}}if(G){if(D){J=J||s(E);I=I||s(L);for(H=0,F=J.length;H<F;H++){t(J[H],I[H])}}else{t(E,L)}}I=s(L,"script");if(I.length>0){y(I,!K&&s(E,"script"))}return L},cleanData:function(D){var I,H,G,E=n.event.special,F=0;for(;(H=D[F])!==undefined;F++){if(w(H)){if((I=H[o.expando])){if(I.events){for(G in I.events){if(E[G]){n.event.remove(H,G)}else{n.removeEvent(H,G,I.handle)}}}H[o.expando]=undefined}if(H[q.expando]){H[q.expando]=undefined}}}}});n.fn.extend({detach:function(D){return C(this,D,true)},remove:function(D){return C(this,D)},text:function(D){return f(this,function(E){return E===undefined?n.text(this):this.empty().each(function(){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){this.textContent=E}})},null,D,arguments.length)},append:function(){return x(this,arguments,function(D){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var E=A(this,D);E.appendChild(D)}})},prepend:function(){return x(this,arguments,function(D){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var E=A(this,D);E.insertBefore(D,E.firstChild)}})},before:function(){return x(this,arguments,function(D){if(this.parentNode){this.parentNode.insertBefore(D,this)}})},after:function(){return x(this,arguments,function(D){if(this.parentNode){this.parentNode.insertBefore(D,this.nextSibling)}})},empty:function(){var E,D=0;for(;(E=this[D])!=null;D++){if(E.nodeType===1){n.cleanData(s(E,false));E.textContent=""}}return this},clone:function(E,D){E=E==null?false:E;D=D==null?E:D;return this.map(function(){return n.clone(this,E,D)})},html:function(D){return f(this,function(H){var G=this[0]||{},F=0,E=this.length;if(H===undefined&&G.nodeType===1){return G.innerHTML}if(typeof H==="string"&&!e.test(H)&&!r[(c.exec(H)||["",""])[1].toLowerCase()]){H=n.htmlPrefilter(H);try{for(;F<E;F++){G=this[F]||{};if(G.nodeType===1){n.cleanData(s(G,false));G.innerHTML=H}}G=0}catch(I){}}if(G){this.empty().append(H)}},null,D,arguments.length)},replaceWith:function(){var D=[];return x(this,arguments,function(F){var E=this.parentNode;if(n.inArray(this,D)<0){n.cleanData(s(this));if(E){E.replaceChild(F,this)}}},D)}});n.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(D,E){n.fn[D]=function(F){var G,H=[],K=n(F),J=K.length-1,I=0;for(;I<=J;I++){G=I===J?this:this.clone(true);n(K[I])[E](G);j.apply(H,G.get())}return this.pushStack(H)}});return n});