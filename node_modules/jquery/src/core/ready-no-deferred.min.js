define(["../core","../var/document","../var/isFunction"],function(e,a,f){var g=[],b=function(h){g.push(h)},c=function(h){window.setTimeout(function(){h.call(a,e)})};e.fn.ready=function(h){b(h);return this};e.extend({isReady:false,readyWait:1,ready:function(h){if(h===true?--e.readyWait:e.isReady){return}e.isReady=true;if(h!==true&&--e.readyWait>0){return}b=function(i){g.push(i);while(g.length){i=g.shift();if(f(i)){c(i)}}};b()}});e.ready.then=e.fn.ready;function d(){a.removeEventListener("DOMContentLoaded",d);window.removeEventListener("load",d);e.ready()}if(a.readyState==="complete"||(a.readyState!=="loading"&&!a.documentElement.doScroll)){window.setTimeout(e.ready)}else{a.addEventListener("DOMContentLoaded",d);window.addEventListener("load",d)}});