define(["../core","../data/var/dataPriv","../css/var/isHiddenWithinTree"],function(j,h,g){var k={};function l(d){var e,b=d.ownerDocument,a=d.nodeName,c=k[a];if(c){return c}e=b.body.appendChild(b.createElement(a));c=j.css(e,"display");e.parentNode.removeChild(e);if(c==="none"){c="block"}k[a]=c;return c}function i(b,n){var a,c,f=[],e=0,d=b.length;for(;e<d;e++){c=b[e];if(!c.style){continue}a=c.style.display;if(n){if(a==="none"){f[e]=h.get(c,"display")||null;if(!f[e]){c.style.display=""}}if(c.style.display===""&&g(c)){f[e]=l(c)}}else{if(a!=="none"){f[e]="none";h.set(c,"display",a)}}}for(e=0;e<d;e++){if(f[e]!=null){b[e].style.display=f[e]}}return b}j.fn.extend({show:function(){return i(this,true)},hide:function(){return i(this)},toggle:function(a){if(typeof a==="boolean"){return a?this.show():this.hide()}return this.each(function(){if(g(this)){j(this).show()}else{j(this).hide()}})}});return i});