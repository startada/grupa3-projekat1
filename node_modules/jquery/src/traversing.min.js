define(["./core","./var/indexOf","./traversing/var/dir","./traversing/var/siblings","./traversing/var/rneedsContext","./core/nodeName","./core/init","./traversing/findFilter","./selector"],function(i,e,c,g,a,f){var b=/^(?:parents|prev(?:Until|All))/,d={children:true,contents:true,next:true,prev:true};i.fn.extend({has:function(m){var k=i(m,this),j=k.length;return this.filter(function(){var l=0;for(;l<j;l++){if(i.contains(this,k[l])){return true}}})},closest:function(p,o){var q,n=0,m=this.length,j=[],k=typeof p!=="string"&&i(p);if(!a.test(p)){for(;n<m;n++){for(q=this[n];q&&q!==o;q=q.parentNode){if(q.nodeType<11&&(k?k.index(q)>-1:q.nodeType===1&&i.find.matchesSelector(q,p))){j.push(q);break}}}}return this.pushStack(j.length>1?i.uniqueSort(j):j)},index:function(j){if(!j){return(this[0]&&this[0].parentNode)?this.first().prevAll().length:-1}if(typeof j==="string"){return e.call(i(j),this[0])}return e.call(this,j.jquery?j[0]:j)},add:function(j,k){return this.pushStack(i.uniqueSort(i.merge(this.get(),i(j,k))))},addBack:function(j){return this.add(j==null?this.prevObject:this.prevObject.filter(j))}});function h(k,j){while((k=k[j])&&k.nodeType!==1){}return k}i.each({parent:function(k){var j=k.parentNode;return j&&j.nodeType!==11?j:null},parents:function(j){return c(j,"parentNode")},parentsUntil:function(k,j,l){return c(k,"parentNode",l)},next:function(j){return h(j,"nextSibling")},prev:function(j){return h(j,"previousSibling")},nextAll:function(j){return c(j,"nextSibling")},prevAll:function(j){return c(j,"previousSibling")},nextUntil:function(k,j,l){return c(k,"nextSibling",l)},prevUntil:function(k,j,l){return c(k,"previousSibling",l)},siblings:function(j){return g((j.parentNode||{}).firstChild,j)},children:function(j){return g(j.firstChild)},contents:function(j){if(f(j,"iframe")){return j.contentDocument}if(f(j,"template")){j=j.content||j}return i.merge([],j.childNodes)}},function(j,k){i.fn[j]=function(n,m){var l=i.map(this,k,n);if(j.slice(-5)!=="Until"){m=n}if(m&&typeof m==="string"){l=i.filter(m,l)}if(this.length>1){if(!d[j]){i.uniqueSort(l)}if(b.test(j)){l.reverse()}}return this.pushStack(l)}});return i});