define(["./core","./core/access","./core/camelCase","./data/var/dataPriv","./data/var/dataUser"],function(g,b,a,h,d){var f=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,i=/[A-Z]/g;function c(j){if(j==="true"){return true}if(j==="false"){return false}if(j==="null"){return null}if(j===+j+""){return +j}if(f.test(j)){return JSON.parse(j)}return j}function e(l,k,m){var j;if(m===undefined&&l.nodeType===1){j="data-"+k.replace(i,"-$&").toLowerCase();m=l.getAttribute(j);if(typeof m==="string"){try{m=c(m)}catch(n){}d.set(l,k,m)}else{m=undefined}}return m}g.extend({hasData:function(j){return d.hasData(j)||h.hasData(j)},data:function(k,j,l){return d.access(k,j,l)},removeData:function(k,j){d.remove(k,j)},_data:function(k,j,l){return h.access(k,j,l)},_removeData:function(k,j){h.remove(k,j)}});g.fn.extend({data:function(m,p){var l,k,o,n=this[0],j=n&&n.attributes;if(m===undefined){if(this.length){o=d.get(n);if(n.nodeType===1&&!h.get(n,"hasDataAttrs")){l=j.length;while(l--){if(j[l]){k=j[l].name;if(k.indexOf("data-")===0){k=a(k.slice(5));e(n,k,o[k])}}}h.set(n,"hasDataAttrs",true)}}return o}if(typeof m==="object"){return this.each(function(){d.set(this,m)})}return b(this,function(r){var q;if(n&&r===undefined){q=d.get(n,m);if(q!==undefined){return q}q=e(n,m);if(q!==undefined){return q}return}this.each(function(){d.set(this,m,r)})},null,p,arguments.length>1,null,true)},removeData:function(j){return this.each(function(){d.remove(this,j)})}});return g});