define(["../core","../core/toType","./var/rtagName","./var/rscriptType","./wrapMap","./getAll","./setGlobalEval"],function(i,g,f,a,h,c,e){var d=/<|&#?\w+;/;function b(m,o,t,y,q){var p,w,z,n,s,u,x=o.createDocumentFragment(),k=[],v=0,r=m.length;for(;v<r;v++){p=m[v];if(p||p===0){if(g(p)==="object"){i.merge(k,p.nodeType?[p]:p)}else{if(!d.test(p)){k.push(o.createTextNode(p))}else{w=w||x.appendChild(o.createElement("div"));z=(f.exec(p)||["",""])[1].toLowerCase();n=h[z]||h._default;w.innerHTML=n[1]+i.htmlPrefilter(p)+n[2];u=n[0];while(u--){w=w.lastChild}i.merge(k,w.childNodes);w=x.firstChild;w.textContent=""}}}}x.textContent="";v=0;while((p=k[v++])){if(y&&i.inArray(p,y)>-1){if(q){q.push(p)}continue}s=i.contains(p.ownerDocument,p);w=c(x.appendChild(p),"script");if(s){e(w)}if(t){u=0;while((p=w[u++])){if(a.test(p.type||"")){t.push(p)}}}}return x}return b});